{"ast":null,"code":"'use strict';\n\nfunction propagate(events, source, dest) {\n  if (arguments.length < 3) {\n    dest = source;\n    source = events;\n    events = undefined;\n  }\n\n  // events should be an array or object\n  var eventsIsObject = typeof events === 'object';\n  if (events && !eventsIsObject) events = [events];\n  if (eventsIsObject) {\n    return explicitPropagate(events, source, dest);\n  }\n  var shouldPropagate = function shouldPropagate(eventName) {\n    return events === undefined || events.includes(eventName);\n  };\n  var oldEmit = source.emit;\n\n  // Returns true if the event had listeners, false otherwise.\n  // https://nodejs.org/api/events.html#events_emitter_emit_eventname_args\n  source.emit = function (eventName) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    var oldEmitHadListeners = oldEmit.call.apply(oldEmit, [source, eventName].concat(args));\n    var destEmitHadListeners = false;\n    if (shouldPropagate(eventName)) {\n      var _dest;\n      destEmitHadListeners = (_dest = dest).emit.apply(_dest, [eventName].concat(args));\n    }\n    return oldEmitHadListeners || destEmitHadListeners;\n  };\n  function end() {\n    source.emit = oldEmit;\n  }\n  return {\n    end: end\n  };\n}\nmodule.exports = propagate;\nfunction explicitPropagate(events, source, dest) {\n  var eventsIn;\n  var eventsOut;\n  if (Array.isArray(events)) {\n    eventsIn = events;\n    eventsOut = events;\n  } else {\n    eventsIn = Object.keys(events);\n    eventsOut = eventsIn.map(function (key) {\n      return events[key];\n    });\n  }\n  var listeners = eventsOut.map(function (event) {\n    return function () {\n      var args = Array.prototype.slice.call(arguments);\n      args.unshift(event);\n      dest.emit.apply(dest, args);\n    };\n  });\n  listeners.forEach(register);\n  return {\n    end: end\n  };\n  function register(listener, i) {\n    source.on(eventsIn[i], listener);\n  }\n  function unregister(listener, i) {\n    source.removeListener(eventsIn[i], listener);\n  }\n  function end() {\n    listeners.forEach(unregister);\n  }\n}","map":{"version":3,"names":["propagate","events","source","dest","arguments","length","undefined","eventsIsObject","explicitPropagate","shouldPropagate","eventName","includes","oldEmit","emit","args","oldEmitHadListeners","call","destEmitHadListeners","end","module","exports","eventsIn","eventsOut","Array","isArray","Object","keys","map","key","listeners","event","prototype","slice","unshift","apply","forEach","register","listener","i","on","unregister","removeListener"],"sources":["/Users/lieo/diabetes/CUT2DMTest/node_modules/propagate/index.js"],"sourcesContent":["'use strict'\n\nfunction propagate(events, source, dest) {\n  if (arguments.length < 3) {\n    dest = source\n    source = events\n    events = undefined\n  }\n\n  // events should be an array or object\n  const eventsIsObject = typeof events === 'object'\n  if (events && !eventsIsObject) events = [events]\n\n  if (eventsIsObject) {\n    return explicitPropagate(events, source, dest)\n  }\n\n  const shouldPropagate = eventName =>\n    events === undefined || events.includes(eventName)\n\n  const oldEmit = source.emit\n\n  // Returns true if the event had listeners, false otherwise.\n  // https://nodejs.org/api/events.html#events_emitter_emit_eventname_args\n  source.emit = (eventName, ...args) => {\n    const oldEmitHadListeners = oldEmit.call(source, eventName, ...args)\n\n    let destEmitHadListeners = false\n    if (shouldPropagate(eventName)) {\n      destEmitHadListeners = dest.emit(eventName, ...args)\n    }\n\n    return oldEmitHadListeners || destEmitHadListeners\n  }\n\n  function end() {\n    source.emit = oldEmit\n  }\n\n  return {\n    end,\n  }\n}\n\nmodule.exports = propagate\n\nfunction explicitPropagate(events, source, dest) {\n  let eventsIn\n  let eventsOut\n  if (Array.isArray(events)) {\n    eventsIn = events\n    eventsOut = events\n  } else {\n    eventsIn = Object.keys(events)\n    eventsOut = eventsIn.map(function(key) {\n      return events[key]\n    })\n  }\n\n  const listeners = eventsOut.map(function(event) {\n    return function() {\n      const args = Array.prototype.slice.call(arguments)\n      args.unshift(event)\n      dest.emit.apply(dest, args)\n    }\n  })\n\n  listeners.forEach(register)\n\n  return {\n    end,\n  }\n\n  function register(listener, i) {\n    source.on(eventsIn[i], listener)\n  }\n\n  function unregister(listener, i) {\n    source.removeListener(eventsIn[i], listener)\n  }\n\n  function end() {\n    listeners.forEach(unregister)\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}